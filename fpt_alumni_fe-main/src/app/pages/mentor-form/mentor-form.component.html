<div class="container-fluid">
    <div class="content p-4 rounded border-1 mx-auto">
      <form [formGroup]="mentorForm" (ngSubmit)="onSubmit()" class="row g-3 w-50 mx-auto mentor-form">
        <h1 class="text-center">BECOME A MENTOR</h1>
        <p class="p-header">BASIC INFORMATION</p>
        <div class="col-lg-6 col-md-6" [ngClass]="{'has-error': f['mentorFullName'].invalid && (f['mentorFullName'].dirty || f['mentorFullName'].touched)}">
          <label class="alumni-label" for="mentorFullName">Full Name</label>
          <input class="alumni-input" type="text" id="mentorFullName" formControlName="mentorFullName" placeholder="Full name" required />
          <div *ngIf="f['mentorFullName'].invalid && (f['mentorFullName'].dirty || f['mentorFullName'].touched)" class="text-danger">
            <div *ngIf="f['mentorFullName'].errors && f['mentorFullName'].errors['required']">
              Full Name is required.
            </div>
          </div>
        </div>
  
        <div class="col-lg-6 col-md-6" [ngClass]="{'has-error': f['mentorEmail'].invalid && (f['mentorEmail'].dirty || f['mentorEmail'].touched)}">
          <label class="alumni-label" for="mentorEmail">Email</label>
          <input formControlName="mentorEmail" class="alumni-input" type="email" id="mentorEmail" placeholder="Email" required />
          <div *ngIf="f['mentorEmail'].invalid && (f['mentorEmail'].dirty || f['mentorEmail'].touched)" class="text-danger">
            <div *ngIf="f['mentorEmail'].errors && f['mentorEmail'].errors['required']">
              Email is required.
            </div>
            <div *ngIf="f['mentorEmail'].errors && f['mentorEmail'].errors['email']">
              Please enter a valid email address.
            </div>
          </div>
        </div>
  
        <div class="col-lg-6 col-md-6" [ngClass]="{'has-error': f['mentorPhone'].invalid && (f['mentorPhone'].dirty || f['mentorPhone'].touched)}">
          <label class="alumni-label" for="mentorPhone">Phone Number</label>
          <input formControlName="mentorPhone" class="alumni-input" type="tel" id="mentorPhone" placeholder="Phone Number" pattern="[0]{1}[0-9]{9}" required />
          <div *ngIf="f['mentorPhone'].invalid && (f['mentorPhone'].dirty || f['mentorPhone'].touched)" class="text-danger">
            <div *ngIf="f['mentorPhone'].errors && f['mentorPhone'].errors['required']">
              Phone Number is required.
            </div>
            <div *ngIf="f['mentorPhone'].errors && f['mentorPhone'].errors['pattern']">
              Please enter a valid phone number starting with 0 and followed by 9 digits.
            </div>
          </div>
        </div>
  
        <div class="col-lg-6 col-md-6">
          <label class="alumni-label" for="mentorGender">Gender</label>
          <div class="d-flex gap-4 align-items-center" style="height: 50px;">
            <div class="form-check">
              <input formControlName="mentorGender" class="form-check-input" type="radio" id="mentorGenderMale" value="Male" required />
              <label class="form-check-label" for="mentorGenderMale">Male</label>
            </div>
            <div class="form-check">
              <input formControlName="mentorGender" class="form-check-input" type="radio" id="mentorGenderFemale" value="Female" />
              <label class="form-check-label" for="mentorGenderFemale">Female</label>
            </div>
            <div class="form-check">
              <input formControlName="mentorGender" class="form-check-input" type="radio" id="mentorGenderOther" value="Other" />
              <label class="form-check-label" for="mentorGenderOther">Other</label>
            </div>
          </div>
          <div *ngIf="f['mentorGender'].invalid && (f['mentorGender'].dirty || f['mentorGender'].touched)" class="text-danger">
            <div *ngIf="f['mentorGender'].errors && f['mentorGender'].errors['required']">
              Gender is required.
            </div>
          </div>
        </div>
  
        <div class="col-lg-6 col-md-6">
          <label class="alumni-label" for="mentorStudentCode">Student Code</label>
          <input formControlName="mentorStudentCode" class="alumni-input" type="text" id="mentorStudentCode" placeholder="Student Code" />
        </div>
  
        <p class="p-header">DEMOGRAPHIC</p>
  
        <div class="col-lg-6 col-md-6" [ngClass]="{'has-error': f['mentorCurrentCountry'].invalid && (f['mentorCurrentCountry'].dirty || f['mentorCurrentCountry'].touched)}">
          <label class="alumni-label" for="mentorCurrentCountry">Current Country</label>
          <input formControlName="mentorCurrentCountry" class="alumni-input" type="text" id="mentorCurrentCountry" placeholder="Current Country" required />
          <div *ngIf="f['mentorCurrentCountry'].invalid && (f['mentorCurrentCountry'].dirty || f['mentorCurrentCountry'].touched)" class="text-danger">
            <div *ngIf="f['mentorCurrentCountry'].errors && f['mentorCurrentCountry'].errors['required']">
              Current Country is required.
            </div>
          </div>
        </div>
  
        <div class="col-lg-6 col-md-6" [ngClass]="{'has-error': f['mentorCurrentCity'].invalid && (f['mentorCurrentCity'].dirty || f['mentorCurrentCity'].touched)}">
          <label class="alumni-label" for="mentorCurrentCity">Current City</label>
          <input formControlName="mentorCurrentCity" class="alumni-input" type="text" id="mentorCurrentCity" placeholder="Current City" required />
          <div *ngIf="f['mentorCurrentCity'].invalid && (f['mentorCurrentCity'].dirty || f['mentorCurrentCity'].touched)" class="text-danger">
            <div *ngIf="f['mentorCurrentCity'].errors && f['mentorCurrentCity'].errors['required']">
              Current City is required.
            </div>
          </div>
        </div>
  
        <div class="col-lg-6 col-md-6">
          <div>
            <label class="alumni-label" for="mentorLanguage">Language(s)</label>
          </div>
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Toppings</mat-label>
              <mat-select formControlName="mentorLanguage" multiple>
                <mat-option *ngFor="let topping of languageList" [value]="topping">{{topping.name}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          
        </div>
  
        <div class="col-lg-6 col-md-6">
          <div>
            <label class="alumni-label" for="mentorField">Field(s)</label>
          </div>
          
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Fields</mat-label>
              <mat-select formControlName="mentorField" multiple>
                <mat-option *ngFor="let topping of fieldList" [value]="topping">{{topping.fieldName}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          
        </div>
  
        <div class="col-lg-6 col-md-6">
          <p class="mb-0 alumni-label">Working and Connection</p>
            <ul class="">
              <li class="dropdown-item" *ngFor="let item of workingConnectionFilters">
                <div class="form-check form-switch col-5">
                  <input class="form-check-input" type="checkbox" [id]="item.id" (change)="handleCheckboxChange(item)">
                  <label class="" [for]="item.id">{{ item.typeName }}</label>
                </div>
              </li>
            </ul>
        </div>
  
        <p class="p-header">WORK AND EDUCATION</p>
        <div class="col-lg-6 col-md-6" [ngClass]="{'has-error': f['mentorLinkedIn'].invalid && (f['mentorLinkedIn'].dirty || f['mentorLinkedIn'].touched)}">
          <label class="alumni-label" for="mentorLinkedIn">LinkedIn URL</label>
          <input formControlName="mentorLinkedIn" class="alumni-input" type="url" id="mentorLinkedIn" placeholder="Link LinkedIn" required />
          <div *ngIf="f['mentorLinkedIn'].invalid && (f['mentorLinkedIn'].dirty || f['mentorLinkedIn'].touched)" class="text-danger">
            <div *ngIf="f['mentorLinkedIn'].errors && f['mentorLinkedIn'].errors['required']">
              LinkedIn URL is required.
            </div>
          </div>
        </div>
        <div class="col-lg-12 col-md-12">
          <label class="alumni-label">CV</label>
          <br>
          <label for="mentorCV" class="w-100">
            <div class="bg-secondary import-file rounded" 
              (drop)="onDrop($event)"
              (dragover)="onDragOver($event)"
              (dragleave)="onDragLeave($event)">
              <p>Import CV Here</p>
            </div>
          </label>
          <input formControlName="mentorCV" (change)="onFileSelected($event)" class="alumni-input" type="file" id="mentorCV" hidden />
          <div *ngIf="selectedFiles.length > 0" class="mt-2">
            <h5>Uploaded Files:</h5>
            <ul>
              <li *ngFor="let file of selectedFiles; let i = index" class="mb-2">
                {{ file.name }}
                <button type="button" (click)="removeFile(i)" class="btn btn-sm btn-danger ml-2">Delete</button>
              </li>
            </ul>
          </div>
        </div>
        
        
        <div class="row">
          <!-- left column -->
          <div class="text-right mt-3">
            <button class="btn alumni-btn" type="button" (click)="addWorkExperience()">Add New Work Experience</button>
          </div>
          <div formArrayName="workExperiences">
            <div *ngFor="let workExperience of workExperiences.controls; let i = index" [formGroupName]="i" class="collapse show mt-3 p-3">
              <label for="inputCompanyName" class="alumni-label">Company Name</label>
              <p>{{workExperience}}</p>
              <input formControlName="companyName" type="text" class="alumni-input mb-2" placeholder="" required />
              
              <label for="inputWorkPosition" class="alumni-label">Work Position</label>
              <input formControlName="workPosition" type="text" class="alumni-input mb-2" placeholder="" required />
              
              <div class="col-lg-6 col-md-6">
                <label for="inputStart" class="alumni-label">Start</label>
                <input formControlName="startMonth" type="month" class="form-control w-50" />
              </div>
              
              <div class="col-lg-6 col-md-6">
                <label for="inputEnd" class="alumni-label">End</label>
                <div class="d-flex">
                  <input formControlName="endMonth" type="month" class="form-control w-50" />
                  <div style="line-height: 40px; display: flex">
                    <input formControlName="stillWorking" type="checkbox" class="form-check-input my-auto mx-2" (change)="toggleEndMonth(i)" />
                    <label class="form-check-label" for="checkboxEndWork">Still Working</label>
                  </div>
                </div>
              </div>
              
              <label for="inputJobDescription" class="alumni-label">Job Description</label>
              <textarea formControlName="jobDescription" class="alumni-textarea mb-2" rows="3"></textarea>
              
              <div class="btn-save text-right mt-3 d-flex">
                <button type="button" class="btn alumni-btn" (click)="removeWorkExperience(i)">Remove</button>
              </div>
            </div>
          </div>
        </div>
        
        <div>
          <p class="p-header mb-3">ADDITIONAL INFORMATION</p>
          <div>
            <label class="alumni-label" for="mentorReason">Mentor Preferences</label>
            <textarea formControlName="mentorReason" class="alumni-textarea" id="mentorReason" placeholder="Preferences"></textarea>
          </div>
        </div>
        <div class="d-flex gap-2 w-100 justify-content-end">
          <button type="submit" class="btn alumni-btn">Submit</button>&nbsp;
          <button type="button" class="btn alumni-btn-outline">Cancel</button>&nbsp;
        </div>
      </form>
    </div>
  </div>
  
  
  
  